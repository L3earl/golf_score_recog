---
description: API specification documentation pattern - concise and essential documentation guide
globs: docs/api/*.md
---

# API Specification Documentation Pattern

**Concise and essential** API specification documentation guide. Can be used consistently across all projects. Write in Korean as shown in the template example.

## ğŸ“‹ Required Components

API specifications should include only the following **5 essential elements**:

### 1. **Function Name & Overview**
```markdown
# {Function Name} API Specification
- Describe the purpose and why this function is needed.
```

### 2. **File Location/Function Names**
```markdown
## ğŸ“ File Location
- **{Layer Name}**: `{file_path}`
- **Function Name**: `{function_signature}`

## ğŸ”§ Functions/Endpoints
- **{Service Name}**: `{function_signature}`
- **{API Name}**: `{endpoint}` (direct call)

## ğŸ” Authentication/Authorization
- **Authentication Required**: âœ… (JWT token required)
- **Required Permission**: `ADMIN`
```

### 3. **Request/Response Structure**
```markdown
## ğŸ“¤ Request Structure
| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `{field}` | `{type}` | âœ…/âŒ | {description} |

## ğŸ“¥ Response Structure
### Success Response
```{language}
{
  "success": true,
  "data": { ... },
  "message": "Success message"
}
```

### Failure Response
```{language}
{
  "success": false,
  "error": "Error message",
  "code": "ERROR_CODE"
}
```
```

### 4. **Post-processing Logic**
```markdown
## ğŸ”„ Post-processing Logic
### On Success
- {success_condition} â†’ {follow_up_action}
- {state_branch} â†’ {screen_navigation}

### On Failure
- {failure_condition} â†’ {error_display}
- {retry_condition} â†’ {retry_handling}
```

### 5. **Error Handling**
```markdown
## âš ï¸ Error Handling
| Error Code | Condition | Handling Method |
|------------|-----------|-----------------|
| `401` | Authentication failed | Navigate to login screen |
| `403` | No permission | Show permission request message |
| `404` | Data not found | Show "Data not found" message |
| `500` | Server error | Show "Server error occurred" message |
| `Network Error` | Connection failed | Show "Check your network" message |
```

## ğŸ“ í…œí”Œë¦¿ ì˜ˆì‹œ

```markdown
# ì‚¬ìš©ì íšŒì›ê°€ì… API ê¸°ëŠ¥ëª…ì„¸ì„œ
- ì‚¬ìš©ìê°€ ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë¹„ìŠ¤ì— ê°€ì…í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.

## ğŸ“ íŒŒì¼ ìœ„ì¹˜
- **Frontend Service**: `frontend/lib/services/auth_service.dart`
- **Frontend UI**: `frontend/lib/screens/register_screen.dart`
- **Frontend Models**: `frontend/lib/models/auth_models.dart`

## ğŸ”§ í•¨ìˆ˜/ì—”ë“œí¬ì¸íŠ¸
- **AuthService**: `static Future<RegisterResponse?> register(String email, String password)`
- **Supabase Auth**: `supabase.auth.signUp()` (ì§ì ‘ í˜¸ì¶œ)

## ğŸ” ì¸ì¦/ì¸ê°€
- **ì¸ì¦ í•„ìš” ì—¬ë¶€**: âŒ (íšŒì›ê°€ì…ì€ ì¸ì¦ í•„ìš” ì—†ìŒ)
- **í•„ìš” ê¶Œí•œ**: -

## ğŸ“¤ ìš”ì²­ êµ¬ì¡°
| í•„ë“œ | íƒ€ì… | í•„ìˆ˜ | ì„¤ëª… |
|------|------|------|------|
| `email` | `String` | âœ… | ì‚¬ìš©ì ì´ë©”ì¼ |
| `password` | `String` | âœ… | ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸ (ìµœì†Œ 6ì) |

## ğŸ“¥ ì‘ë‹µ êµ¬ì¡°
### ì„±ê³µ ì‘ë‹µ
```dart
RegisterResponse {
  message: "íšŒì›ê°€ì…ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤",
  userId: "uuid-string",
  email: "user@example.com",
  emailConfirmed: false
}
```

### ì‹¤íŒ¨ ì‘ë‹µ
```dart
null // í•¨ìˆ˜ê°€ nullì„ ë°˜í™˜
```

## ğŸ”„ í›„ì²˜ë¦¬ ë¡œì§
### ì„±ê³µ ì‹œ
- `emailConfirmed: true` â†’ ë©”ì¸ í™”ë©´ìœ¼ë¡œ ì´ë™
- `emailConfirmed: false` â†’ ì´ë©”ì¼ ì¸ì¦ í™”ë©´ìœ¼ë¡œ ì´ë™

### ì‹¤íŒ¨ ì‹œ
- `response == null` â†’ "íšŒì›ê°€ì…ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤" ìŠ¤ë‚µë°” í‘œì‹œ

## âš ï¸ ì—ëŸ¬ ì²˜ë¦¬
| ì—ëŸ¬ ì½”ë“œ | ì¡°ê±´ | ì²˜ë¦¬ ë°©ë²• |
|-----------|------|-----------|
| `400` | ì´ë©”ì¼ í˜•ì‹ ì˜¤ë¥˜ | "ì˜¬ë°”ë¥¸ ì´ë©”ì¼ í˜•ì‹ì„ ì…ë ¥í•´ì£¼ì„¸ìš”" |
| `400` | ë¹„ë°€ë²ˆí˜¸ ì§§ìŒ | "ë¹„ë°€ë²ˆí˜¸ëŠ” ìµœì†Œ 6ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤" |
| `400` | ì´ë¯¸ ë“±ë¡ë¨ | "ì´ë¯¸ ë“±ë¡ëœ ì´ë©”ì¼ì…ë‹ˆë‹¤" |
| `ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜` | ì—°ê²° ì‹¤íŒ¨ | "ë„¤íŠ¸ì›Œí¬ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”" |
```

## âœ… Checklist

- [ ] **Function Name**: Clear and concise title
- [ ] **File Location**: All related file paths specified
- [ ] **Function Names**: Accurate function signatures
- [ ] **Request/Response**: Matches actual data structure
- [ ] **Post-processing Logic**: Actual UI processing flow
- [ ] **Error Handling**: All possible error scenarios and solutions

## ğŸ“ Writing Principles

1. **Conciseness**: Include only essential information
2. **Accuracy**: Match actual code implementation
3. **Completeness**: Include all necessary information
4. **Consistency**: Use same format across entire project
5. **Currency**: Update documentation when code changes